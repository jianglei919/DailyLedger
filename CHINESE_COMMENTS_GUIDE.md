# Daily Ledger - ä¸­æ–‡ä»£ç æ³¨é‡Šå¿«é€ŸæŸ¥é˜…æŒ‡å—\n\n## ğŸ¯ å¿«é€Ÿå¯¼èˆª\n\n### åç«¯æ ¸å¿ƒæ–‡ä»¶ (Node.js/Express)\n\n| æ–‡ä»¶ä½ç½® | æ–‡ä»¶å | åŠŸèƒ½è¯´æ˜ | æ³¨é‡ŠçŠ¶æ€ |\n|---------|--------|---------|----------|\n| `server/src/` | `index.js` | Express åº”ç”¨å…¥å£ï¼Œé…ç½®ä¸­é—´ä»¶å’Œè·¯ç”± | âœ… å®Œæˆ |\n| `server/src/models/` | `User.js` | ç”¨æˆ·æ•°æ®æ¨¡å‹ï¼ŒåŒ…å« Schema å’Œå®ä¾‹æ–¹æ³• | âœ… å®Œæˆ |\n| `server/src/models/` | `Transaction.js` | äº¤æ˜“æ•°æ®æ¨¡å‹ï¼ŒåŒ…å«å¤åˆç´¢å¼•ä¼˜åŒ– | âœ… å®Œæˆ |\n| `server/src/models/` | `Category.js` | åˆ†ç±»æ•°æ®æ¨¡å‹ï¼ŒåŒ…å«å”¯ä¸€æ€§çº¦æŸ | âœ… å®Œæˆ |\n| `server/src/models/` | `Label.js` | æ ‡ç­¾æ•°æ®æ¨¡å‹ï¼Œæ”¯æŒè½¯åˆ é™¤ | âœ… å®Œæˆ |\n| `server/src/controllers/` | `userController.js` | ç”¨æˆ·è®¤è¯ã€æ³¨å†Œã€ç™»å½•ã€èµ„æ–™ç®¡ç† | âœ… å®Œæˆ |\n| `server/src/controllers/` | `transactionController.js` | äº¤æ˜“çš„ CRUD å’ŒæŸ¥è¯¢ç­›é€‰ | âœ… å®Œæˆ |\n| `server/src/controllers/` | `categoryController.js` | åˆ†ç±»çš„ CRUD æ“ä½œ | âœ… å®Œæˆ |\n| `server/src/controllers/` | `labelController.js` | æ ‡ç­¾çš„ CRUD æ“ä½œ | âœ… å®Œæˆ |\n| `server/src/routes/` | `userRoutes.js` | ç”¨æˆ·ç›¸å…³è·¯ç”±å®šä¹‰ | âœ… å®Œæˆ |\n| `server/src/routes/` | `transactionRoutes.js` | äº¤æ˜“ç›¸å…³è·¯ç”±å®šä¹‰ | âœ… å®Œæˆ |\n| `server/src/routes/` | `categoryRoutes.js` | åˆ†ç±»ç›¸å…³è·¯ç”±å®šä¹‰ | âœ… å®Œæˆ |\n| `server/src/routes/` | `labelRoutes.js` | æ ‡ç­¾ç›¸å…³è·¯ç”±å®šä¹‰ | âœ… å®Œæˆ |\n| `server/src/middleware/` | `auth.js` | JWT è®¤è¯ä¸­é—´ä»¶ | âœ… å®Œæˆ |\n| `server/src/config/` | `env.js` | ç¯å¢ƒå˜é‡åŠ è½½é…ç½® | âœ… å®Œæˆ |\n| `server/src/config/` | `mongodb.js` | MongoDB è¿æ¥å’Œé…ç½® | âœ… å®Œæˆ |\n\n### å‰ç«¯æ ¸å¿ƒæ–‡ä»¶ (React)\n\n| æ–‡ä»¶ä½ç½® | æ–‡ä»¶å | åŠŸèƒ½è¯´æ˜ | æ³¨é‡ŠçŠ¶æ€ |\n|---------|--------|---------|----------|\n| `client/src/` | `App.js` | React åº”ç”¨å…¥å£ï¼Œè·¯ç”±é…ç½® | âœ… å®Œæˆ |\n| `client/src/context/` | `AuthContext.js` | å…¨å±€è®¤è¯çŠ¶æ€ç®¡ç† | âœ… å®Œæˆ |\n| `client/src/services/` | `api.js` | API è¯·æ±‚å°è£…å’Œæ‹¦æˆªå™¨ | âœ… å®Œæˆ |\n| `client/src/components/` | `PrivateRoute.js` | è·¯ç”±ä¿æŠ¤ç»„ä»¶ | âœ… å®Œæˆ |\n| `client/src/components/` | `Navbar.js` | å¯¼èˆªæ å’Œç”¨æˆ·æ¨¡å— | âœ… å®Œæˆ |\n| `client/src/i18n/` | `config.js` | i18next å›½é™…åŒ–é…ç½® | â³ å¾…å®Œæˆ |\n| `client/src/pages/` | `Login.js` | ç™»å½•é¡µé¢ | â³ å¾…å®Œæˆ |\n| `client/src/pages/` | `Register.js` | æ³¨å†Œé¡µé¢ | â³ å¾…å®Œæˆ |\n| `client/src/pages/` | `Dashboard.js` | ä»ªè¡¨ç›˜ä¸»é¡µé¢ | â³ å¾…å®Œæˆ |\n\n---\n\n## ğŸ“š æŒ‰åŠŸèƒ½æ¨¡å—æŸ¥é˜…\n\n### 1. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ\n\n**éœ€è¦äº†è§£ç”¨æˆ·è®¤è¯æµç¨‹ï¼Ÿ** æŸ¥çœ‹ä»¥ä¸‹æ–‡ä»¶ï¼š\n\n`\nç”¨æˆ·æ³¨å†Œ/ç™»å½•æµç¨‹\nâ”œâ”€ å‰ç«¯: client/src/pages/Login.js æˆ– Register.js\nâ”œâ”€ å‰ç«¯: client/src/context/AuthContext.js (login/register å‡½æ•°)\nâ”œâ”€ å‰ç«¯: client/src/services/api.js (authApi)\nâ”œâ”€ åç«¯: server/src/controllers/userController.js (registerUser/loginUser)\nâ”œâ”€ åç«¯: server/src/models/User.js (comparePassword æ–¹æ³•)\nâ”œâ”€ åç«¯: server/src/routes/userRoutes.js\nâ””â”€ åç«¯: server/src/middleware/auth.js (protect ä¸­é—´ä»¶)\n`\n\n**å…³é”®ä»£ç æ®µ**ï¼š\n- å¯†ç åŠ å¯†: User.js çš„ pre-save é’©å­\n- Token ç”Ÿæˆ: userController.js çš„ generateToken å‡½æ•°\n- Token éªŒè¯: auth.js çš„ protect ä¸­é—´ä»¶\n\n### 2. äº¤æ˜“ç®¡ç†ç³»ç»Ÿ\n\n**éœ€è¦äº†è§£äº¤æ˜“ç®¡ç†ï¼Ÿ** æŸ¥çœ‹ä»¥ä¸‹æ–‡ä»¶ï¼š\n\n`\näº¤æ˜“ CRUD æ“ä½œ\nâ”œâ”€ å‰ç«¯: client/src/pages/Transactions.js\nâ”œâ”€ å‰ç«¯: client/src/services/api.js (transactionApi)\nâ”œâ”€ åç«¯: server/src/controllers/transactionController.js\nâ”œâ”€ åç«¯: server/src/models/Transaction.js\nâ”œâ”€ åç«¯: server/src/routes/transactionRoutes.js\nâ””â”€ åç«¯: server/src/models/Category.js å’Œ Label.js (å…³è”æ¨¡å‹)\n`\n\n**å…³é”®çŸ¥è¯†ç‚¹**ï¼š\n- æ—¥æœŸå­˜å‚¨ä¸º UTC åˆå¤œæ—¶åˆ»ï¼ˆè§ transactionController.jsï¼‰\n- æ”¯æŒå¤æ‚æŸ¥è¯¢ç­›é€‰ï¼ˆè§ getTransactions å‡½æ•°ï¼‰\n- è‡ªåŠ¨å¡«å……å…³è”çš„åˆ†ç±»å’Œæ ‡ç­¾ä¿¡æ¯\n\n### 3. åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ\n\n**éœ€è¦äº†è§£åˆ†ç±»å’Œæ ‡ç­¾ï¼Ÿ** æŸ¥çœ‹ä»¥ä¸‹æ–‡ä»¶ï¼š\n\n`\nåˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†\nâ”œâ”€ å‰ç«¯: client/src/pages/Settings.js\nâ”œâ”€ å‰ç«¯: client/src/services/api.js (categoryApi/labelApi)\nâ”œâ”€ åç«¯: server/src/controllers/categoryController.js\nâ”œâ”€ åç«¯: server/src/controllers/labelController.js\nâ”œâ”€ åç«¯: server/src/models/Category.js\nâ”œâ”€ åç«¯: server/src/models/Label.js\nâ”œâ”€ åç«¯: server/src/routes/categoryRoutes.js\nâ””â”€ åç«¯: server/src/routes/labelRoutes.js\n`\n\n**å…³é”®çŸ¥è¯†ç‚¹**ï¼š\n- åˆ†ç±»: æŒ‰ç±»å‹ (Expenses/Income) åˆ†ç»„ï¼ŒåŒç±»å‹ä¸‹åç§°å”¯ä¸€\n- æ ‡ç­¾: ç”¨æˆ·è‡ªå®šä¹‰ï¼Œæä¾›äºŒçº§åˆ†ç±»ï¼Œæ”¯æŒè½¯åˆ é™¤\n- æ•°æ®åº“çº¦æŸ: è§å„æ¨¡å‹æ–‡ä»¶çš„ Schema å®šä¹‰\n\n### 4. API æ¥å£\n\n**éœ€è¦äº†è§£ API ç«¯ç‚¹ï¼Ÿ** å‚è€ƒå„è·¯ç”±æ–‡ä»¶ä¸­çš„æ³¨é‡Šï¼š\n\n`javascript\n// ç”¨æˆ·ç›¸å…³\nPOST   /api/users/register      // ç”¨æˆ·æ³¨å†Œ\nPOST   /api/users/login         // ç”¨æˆ·ç™»å½•\nGET    /api/users/profile       // è·å–èµ„æ–™\nPUT    /api/users/profile       // æ›´æ–°èµ„æ–™\nPUT    /api/users/change-password // ä¿®æ”¹å¯†ç \n\n// äº¤æ˜“ç›¸å…³ (éœ€è®¤è¯)\nGET    /api/transactions        // æŸ¥è¯¢äº¤æ˜“åˆ—è¡¨\nPOST   /api/transactions        // åˆ›å»ºæ–°äº¤æ˜“\nPUT    /api/transactions/:id    // æ›´æ–°äº¤æ˜“\nDELETE /api/transactions/:id    // åˆ é™¤äº¤æ˜“\n\n// åˆ†ç±»ç›¸å…³ (éœ€è®¤è¯)\nGET    /api/categories          // æŸ¥è¯¢åˆ†ç±»åˆ—è¡¨\nPOST   /api/categories          // åˆ›å»ºåˆ†ç±»\nPUT    /api/categories/:id      // æ›´æ–°åˆ†ç±»\nDELETE /api/categories/:id      // åˆ é™¤åˆ†ç±»\n\n// æ ‡ç­¾ç›¸å…³ (éœ€è®¤è¯)\nGET    /api/labels              // æŸ¥è¯¢æ ‡ç­¾åˆ—è¡¨\nPOST   /api/labels              // åˆ›å»ºæ ‡ç­¾\nPUT    /api/labels/:id          // æ›´æ–°æ ‡ç­¾\nDELETE /api/labels/:id          // åˆ é™¤æ ‡ç­¾\n`\n\n---\n\n## ğŸ” å¸¸è§é—®é¢˜æŸ¥é˜…\n\n### Q: ç”¨æˆ·æ•°æ®æ˜¯å¦‚ä½•ä¿æŠ¤çš„ï¼Ÿ\n**A:** æŸ¥çœ‹ä»¥ä¸‹éƒ¨åˆ†ï¼š\n- `auth.js` - protect ä¸­é—´ä»¶ç¡®ä¿åªæœ‰ç™»å½•ç”¨æˆ·èƒ½è®¿é—®\n- æ‰€æœ‰æ•°æ®åº“æŸ¥è¯¢éƒ½åŒ…å« `userId` è¿‡æ»¤\n- å¯†ç å­˜å‚¨ä¸ºåŠ å¯†å“ˆå¸Œï¼Œè§ `User.js`\n\n### Q: äº¤æ˜“æ—¥æœŸæ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ\n**A:** æŸ¥çœ‹ `transactionController.js` ä¸­çš„æ—¥æœŸå¤„ç†æ®µï¼š\n- äº¤æ˜“æ—¥æœŸç»Ÿä¸€å­˜å‚¨ä¸º UTC åˆå¤œæ—¶åˆ»\n- å‰ç«¯è·å–åä¼šæ˜¾ç¤º `dateString` æ ¼å¼åŒ–å­—æ®µ\n- ç¡®ä¿ä¸åŒæ—¶åŒºçš„ç”¨æˆ·çœ‹åˆ°çš„æ—¥æœŸä¸€è‡´\n\n### Q: å¦‚ä½•æ”¯æŒå›½é™…åŒ– (ä¸­è‹±æ–‡åˆ‡æ¢)ï¼Ÿ\n**A:** æŸ¥çœ‹ä»¥ä¸‹éƒ¨åˆ†ï¼š\n- `client/src/i18n/config.js` - i18next é…ç½®\n- `client/src/components/Navbar.js` - è¯­è¨€åˆ‡æ¢å™¨\n- è¯­è¨€åå¥½å­˜å‚¨åœ¨ localStorage ä¸­\n\n### Q: æ•°æ®åº“æ€§èƒ½å¦‚ä½•ä¼˜åŒ–çš„ï¼Ÿ\n**A:** æŸ¥çœ‹ `Transaction.js` ä¸­çš„ç´¢å¼•å®šä¹‰ï¼š\n- 4 ä¸ªå¤åˆç´¢å¼•æ”¯æŒå¸¸è§æŸ¥è¯¢\n- æŒ‰ç”¨æˆ·ã€ç±»å‹ã€åˆ†ç±»ã€æ ‡ç­¾ç­‰ç»´åº¦ä¼˜åŒ–\n\n### Q: API è¯·æ±‚æ˜¯å¦‚ä½•è‡ªåŠ¨æ·»åŠ  Token çš„ï¼Ÿ\n**A:** æŸ¥çœ‹ `client/src/services/api.js` çš„è¯·æ±‚æ‹¦æˆªå™¨ï¼š\n- è‡ªåŠ¨ä» localStorage è¯»å– token\n- è‡ªåŠ¨æ·»åŠ åˆ° Authorization è¯·æ±‚å¤´\n\n---\n\n## ğŸ’¡ å¼€å‘æŠ€å·§\n\n### æ·»åŠ æ–°çš„ API ç«¯ç‚¹\n1. åœ¨ `controllers/` ä¸­åˆ›å»ºå¤„ç†å‡½æ•°\n2. åœ¨ `routes/` ä¸­æ³¨å†Œè·¯ç”±\n3. åœ¨å‰ç«¯ `services/api.js` ä¸­æ·»åŠ è°ƒç”¨æ–¹æ³•\n4. åœ¨ç›¸åº”é¡µé¢ç»„ä»¶ä¸­è°ƒç”¨ API\n\n### æ·»åŠ æ–°çš„æ•°æ®å­—æ®µ\n1. åœ¨ `models/` ä¸­çš„ Schema å®šä¹‰å­—æ®µ\n2. åœ¨ `controllers/` ä¸­æ›´æ–°éªŒè¯é€»è¾‘\n3. åœ¨å‰ç«¯è¡¨å•ä¸­æ·»åŠ å¯¹åº”è¾“å…¥\n4. åœ¨ `services/api.js` ä¸­æ›´æ–°è¯·æ±‚æ•°æ®ç»“æ„\n\n### ä¿®æ”¹ç”¨æˆ·æƒé™é€»è¾‘\n1. æ£€æŸ¥ `middleware/auth.js` ä¸­çš„è®¤è¯\n2. åœ¨ `controllers/` ä¸­çš„æ•°æ®åº“æŸ¥è¯¢æ·»åŠ æƒé™æ£€æŸ¥\n3. åœ¨å‰ç«¯ `context/AuthContext.js` ä¸­ç®¡ç†ç”¨æˆ·è§’è‰²\n\n---\n\n## ğŸ“– ç›¸å…³æ–‡æ¡£\n\n- **å®Œæ•´æ³¨é‡Šæ€»ç»“**: [CHINESE_COMMENTS_COMPLETE.md](./CHINESE_COMMENTS_COMPLETE.md)\n- **é¡¹ç›®ç»“æ„**: [PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md)\n- **Render éƒ¨ç½²**: [RENDER_DEPLOYMENT.md](./RENDER_DEPLOYMENT.md)\n- **éƒ¨ç½²æ£€æŸ¥æ¸…å•**: [DEPLOYMENT_CHECKLIST.md](./DEPLOYMENT_CHECKLIST.md)\n\n---\n\n## ğŸš€ å¿«é€Ÿå¼€å§‹\n\n### å¼€å‘ç¯å¢ƒå¯åŠ¨\n\n`bash\n# åç«¯\ncd server\nnpm install\nnpm start\n\n# å‰ç«¯\ncd client\nnpm install\nnpm start\n`\n\n### ä»£ç é˜…è¯»å»ºè®®\n\n1. **æ–°æ‰‹å…¥é—¨** (30 åˆ†é’Ÿ)\n - å…ˆè¯» `server/src/index.js` - äº†è§£æ•´ä½“æ¶æ„\n - å†è¯» `client/src/App.js` - äº†è§£å‰ç«¯ç»“æ„\n - æŸ¥çœ‹ `models/User.js` - ç†è§£æ•°æ®æ¨¡å‹\n\n2. **æ·±å…¥å­¦ä¹ ** (1-2 å°æ—¶)\n - è¿½è¸ªç”¨æˆ·ç™»å½•æµç¨‹ï¼šLogin.js â†’ AuthContext.js â†’ api.js â†’ userController.js\n - è¿½è¸ªäº¤æ˜“ç®¡ç†æµç¨‹ï¼šTransactions.js â†’ api.js â†’ transactionController.js\n - ç†è§£æƒé™éªŒè¯ï¼šauth.js çš„ protect ä¸­é—´ä»¶\n\n3. **å®é™…å¼€å‘** (æŒ‰éœ€æŸ¥é˜…)\n - éœ€è¦æ·»åŠ åŠŸèƒ½æ—¶ï¼ŒæŸ¥æ‰¾ç›¸å…³çš„ Controller\n - éœ€è¦ä¿®æ”¹ API æ—¶ï¼ŒåŒæ—¶æ”¹ Route å’Œå‰ç«¯ api.js\n - éœ€è¦æ–°å¢å­—æ®µæ—¶ï¼Œä» Model â†’ Controller â†’ API é€å±‚ä¿®æ”¹\n\n---\n\n## ğŸ“ ç¬”è®°\n\n- æ‰€æœ‰ç”¨æˆ·æ•°æ®éƒ½è¢« `userId` å­—æ®µéš”ç¦»ï¼Œç¡®ä¿æ•°æ®å®‰å…¨\n- å¯†ç æ°¸è¿œä¸ä¼šåœ¨ API å“åº”ä¸­è¿”å›ï¼ˆè§ User.js çš„ toJSONï¼‰\n- äº¤æ˜“æ—¥æœŸä½¿ç”¨ UTC å­˜å‚¨ä»¥é¿å…æ—¶åŒºé—®é¢˜\n- æ‰€æœ‰ API é™¤äº†æ³¨å†Œå’Œç™»å½•å¤–éƒ½éœ€è¦è®¤è¯\n- å‰ç«¯é¡µé¢ç»„ä»¶çš„æ³¨é‡Šå·¥ä½œä»åœ¨è¿›è¡Œä¸­\n\n---\n\n**æœ€åæ›´æ–°**: 2024 å¹´ \n**ç»´æŠ¤è€…**: GitHub Copilot + å¼€å‘å›¢é˜Ÿ\n"
